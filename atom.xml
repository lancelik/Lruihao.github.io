<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>博採眾長</title>
  
  <subtitle>不怕万人阻挡，只怕自己投降。W你如何回忆，决定你是一个怎样的人。W人生当苦无妨，良人当归即可。W世间文字八万个，唯有情字最杀人。W逝者如斯乎，不舍昼夜。W你别出现在我黎明的梦里，我怕我醒来就抱不到你。</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lruihao.cn/"/>
  <updated>2018-08-30T05:59:53.299Z</updated>
  <id>https://lruihao.cn/</id>
  
  <author>
    <name>李瑞豪</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>hexo next主题添加字数统计（2018）</title>
    <link href="https://lruihao.cn/hexo-wordcount.html"/>
    <id>https://lruihao.cn/hexo-wordcount.html</id>
    <published>2018-08-30T05:15:50.000Z</published>
    <updated>2018-08-30T05:59:53.299Z</updated>
    
    <content type="html"><![CDATA[<div class="note warning"><p>最近有几个小伙伴问我博客的字数统计怎么实现的，怎么网上的教程不管用啊？一开始我搭建博客的时候也遇到了类似的问题，按照github上wordcount的readme操作后，并没有什么用，我打开post相关配置文件并没有发现发现wordcount这个关键词，next本身似乎也并没有在主题配置文件提供选项(或许是个人原因)，所以只好自己动手加一个了。为了不重复回答问题，先做个原创记录。转载请注明出处。在此抛转引玉，如果有更好的方法请在留言区提出，我会及时更改。同时也希望小伙伴多发扬折腾精神，多专研，少提问，毕竟还是RTFSC大法好！(Read the fucking source code)</p></div><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><a href="https://github.com/willin/hexo-wordcount" rel="external nofollow noopener noreferrer" target="_blank">wordcount github</a><br>如果没有安装 hexo-wordcount 插件，先安装该插件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm i --save hexo-wordcount</span><br><span class="line"></span><br><span class="line"># Node 版本7.6.0之前,请安装 2.x 版本 (Node.js v7.6.0 and previous)</span><br><span class="line">npm install hexo-wordcount@2 --save</span><br></pre></td></tr></table></figure><p></p><h2 id="post添加"><a href="#post添加" class="headerlink" title="post添加"></a>post添加</h2><p>打开<code>hexo\themes\hexo-theme-next\layout\_macro</code>路径下的post.swig文件，既然没有字数统计那么我们就加一个，简单暴力地直接在阅读数后面加上一条就好了，在文件类搜索关键词<code>busuanzi</code>,我用的是不蒜子,如果用的了leancloud的搜leancloud就好了，其他类似。找到这段代码后<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if not is_index and theme.busuanzi_count.enable and theme.busuanzi_count.post_views %&#125;</span><br><span class="line">    &lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;post-meta-item-icon&quot;</span><br><span class="line">    &#123;% if not theme.post_meta.item_text %&#125; title=&quot;&#123;&#123; __(&apos;post.views&apos;) &#125;&#125;&quot; &#123;% endif %&#125;&gt;</span><br><span class="line">    &lt;i class=&quot;fa fa-&#123;&#123; theme.busuanzi_count.post_views_icon &#125;&#125;&quot;&gt;&lt;/i&gt;</span><br><span class="line">    &#123;% if theme.post_meta.item_text %&#125; &#123;&#123;__(&apos;post.views&apos;) + __(&apos;symbol.colon&apos;) &#125;&#125; &#123;% endif %&#125;</span><br><span class="line">    &lt;span class=&quot;busuanzi-value&quot; id=&quot;busuanzi_value_page_pv&quot; &gt;&lt;/span&gt;</span><br><span class="line">    &lt;/span&gt;</span><br><span class="line">            </span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p></p><p>在<code>endif</code>上面，即本文代码块那个空行处添加以下代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;span class=&quot;post-meta-divider&quot;&gt;|&lt;/span&gt;</span><br><span class="line">&lt;span title=&quot;&#123;&#123; __(&apos;post.wordcount&apos;) &#125;&#125;&quot;&gt;&lt;span class=&quot;post-meta-item-icon&quot;&gt;&lt;i class=&quot;fa fa-file-word-o&quot;&gt;&lt;/i&gt;&lt;/span&gt;字数： &#123;&#123; wordcount(post.content) &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure><p></p><h2 id="全站添加"><a href="#全站添加" class="headerlink" title="全站添加"></a>全站添加</h2><p>打开<code>hexo\themes\hexo-theme-next\layout\_partials</code>路径下footer.swig文件，在你喜欢的位置添加以下代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;theme-info&quot;&gt;</span><br><span class="line">  &lt;div class=&quot;powered-by&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;span class=&quot;post-count&quot;&gt;全站共 &#123;&#123; totalcount(site) &#125;&#125; 字&lt;/span&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><blockquote><p><strong>教程结束，觉得不错的话可以在右上角进入github上点个star</strong></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div class=&quot;note warning&quot;&gt;&lt;p&gt;最近有几个小伙伴问我博客的字数统计怎么实现的，怎么网上的教程不管用啊？一开始我搭建博客的时候也遇到了类似的问题，按照github上wordcount的readme操作后，并没有什么用，我打开post相关配置文件并没有发现发
      
    
    </summary>
    
      <category term="hexo博客" scheme="https://lruihao.cn/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://lruihao.cn/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="网页字数统计" scheme="https://lruihao.cn/tags/%E7%BD%91%E9%A1%B5%E5%AD%97%E6%95%B0%E7%BB%9F%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>hexo d 出错</title>
    <link href="https://lruihao.cn/hexo-d-error.html"/>
    <id>https://lruihao.cn/hexo-d-error.html</id>
    <published>2018-08-21T14:15:01.000Z</published>
    <updated>2018-08-22T11:31:20.261Z</updated>
    
    <content type="html"><![CDATA[<p>搭建这个博客以来，隔一段时间就出现一次部署失败的错误，每次都差不多，莫名其妙地出现的。。。前几次不知道怎么瞎搞就好了。<br>现在做一下记录，防止以后出错用。<br>错误如下<br><a id="more"></a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Connection reset by 13.229.188.59 port 22</span><br><span class="line">fatal: sha1 file &apos;&lt;stdout&gt;&apos; write error: Broken pipe</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">FATAL Something&apos;s wrong. Maybe you can find the solution here: http://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Connection reset by 13.229.188.59 port 22</span><br><span class="line">fatal: sha1 file &apos;&lt;stdout&gt;&apos; write error: Broken pipe</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line">fatal: The remote end hung up unexpectedly</span><br><span class="line"></span><br><span class="line">at ChildProcess.&lt;anonymous&gt; (H:\Hexo\node_modules\hexo-util\lib\spawn.js:37:17)</span><br><span class="line">    at emitTwo (events.js:106:13)</span><br><span class="line">    at ChildProcess.emit (events.js:191:7)</span><br><span class="line">    at ChildProcess.cp.emit (H:\Hexo\node_modules\cross-spawn\lib\enoent.js:40:29)</span><br><span class="line">    at maybeClose (internal/child_process.js:850:16)</span><br><span class="line">    at Socket.&lt;anonymous&gt; (internal/child_process.js:323:11)</span><br><span class="line">    at emitOne (events.js:96:13)</span><br><span class="line">    at Socket.emit (events.js:188:7)</span><br><span class="line">    at Pipe._handle.close [as _onclose] (net.js:492:12)</span><br><span class="line"></span><br><span class="line">...</span><br></pre></td></tr></table></figure><p></p><p>确保ssh正常，hexo-deploy-git插件正常的情况下删除.deploy_git文件夹就好了。<br>最后吐槽一下，这个鬼错误，搞我一晚上醉了。。。我又打算重装了的。。。。。/吐血</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;搭建这个博客以来，隔一段时间就出现一次部署失败的错误，每次都差不多，莫名其妙地出现的。。。前几次不知道怎么瞎搞就好了。&lt;br&gt;现在做一下记录，防止以后出错用。&lt;br&gt;错误如下&lt;br&gt;
    
    </summary>
    
      <category term="hexo博客" scheme="https://lruihao.cn/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://lruihao.cn/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="前端" scheme="https://lruihao.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>hexo个性化-next主题动态显示subtitle</title>
    <link href="https://lruihao.cn/dongtaisub.html"/>
    <id>https://lruihao.cn/dongtaisub.html</id>
    <published>2018-08-20T08:16:40.000Z</published>
    <updated>2018-08-28T08:08:17.171Z</updated>
    
    <content type="html"><![CDATA[<div class="note"><p>本文适合我这种纯小白。<br>目前为止，全网也就只有一个博主写到过这样动态显示subtitle的文章。<a href="https://www.jianshu.com/p/df2c844eeabf" rel="external nofollow noopener noreferrer" target="_blank">传送门</a>（关键词：js,后加载）<br>但是嘞，该博写的不怎么详细，17年底写的。当然更大的可能是next更新了一些文件结构，所以不适合现在使用了。以前我按原博的流程配置了一下没成功就搁在那里了，今天突然心血来潮。翻了翻原博主博客的源码，再与自己的对比了一下，发现了一些端倪。稍作调整后如下：</p></div><h2 id="修改站点配置文件，主要修改subtitle"><a href="#修改站点配置文件，主要修改subtitle" class="headerlink" title="修改站点配置文件，主要修改subtitle"></a>修改站点配置文件，主要修改subtitle</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subtitle: 不怕万人阻挡，只怕自己投降。W你如何回忆，决定你是一个怎样的人！W这是一个句子。W这是另一个句子。W这些句子你们不要搞一样的不然怎么叫个性签名-_-！。</span><br></pre></td></tr></table></figure><p>句子与句子之间以W分割，后续需要根据该标志位去拆分句子组。<br><strong>小伙伴们博主这里只是提供一个思路，不要和我用一模一样的啊，不然撞了多尴尬呀</strong></p><h2 id="修改themes-next-layout-partials-header下面的index-swig文件。"><a href="#修改themes-next-layout-partials-header下面的index-swig文件。" class="headerlink" title="修改themes\next\layout_partials\header下面的index.swig文件。"></a>修改themes\next\layout_partials\header下面的index.swig文件。</h2><p>在最开头添加如下代码：<br>(这里用的原博的js)</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"> <span class="function">function <span class="title">GetRandomNum</span><span class="params">(Min,Max)</span></span></span><br><span class="line"><span class="function">  </span>&#123;</span><br><span class="line">    var Range = Max - Min;</span><br><span class="line">    var Rand = Math.random();</span><br><span class="line">    <span class="keyword">return</span>(Min + Math.round(Rand * Range));</span><br><span class="line">  &#125;</span><br><span class="line"><span class="function">function <span class="title">setSidebarMarginTop</span> <span class="params">(headerOffset)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $(<span class="string">'#sidebar'</span>).css(&#123; <span class="string">'margin-top'</span>: headerOffset &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="function">function <span class="title">getHeaderOffset</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> $(<span class="string">'.header-inner'</span>).height() + CONFIG.sidebar.offset;</span><br><span class="line">  &#125;</span><br><span class="line">  window.onload=function()&#123;</span><br><span class="line">    var subtitle = <span class="string">"&#123;&#123;config.subtitle&#125;&#125;"</span>;</span><br><span class="line">     var mytitle = subtitle.split(<span class="string">"W"</span>);</span><br><span class="line">     var max = mytitle.length-<span class="number">1</span>;</span><br><span class="line">     var index = GetRandomNum(<span class="number">0</span>,max);</span><br><span class="line">     var text = mytitle[index];</span><br><span class="line">     $(<span class="string">"#helloTitle"</span>).html(text);</span><br><span class="line">     var headOffset = getHeaderOffset();</span><br><span class="line">     setSidebarMarginTop(headOffset);</span><br><span class="line">     <span class="comment">//动态subtitle设置</span></span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="然后修改brand-swig的部分代码"><a href="#然后修改brand-swig的部分代码" class="headerlink" title="然后修改brand.swig的部分代码"></a>然后修改brand.swig的部分代码</h2><p>找到<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if subtitle %&#125;</span><br><span class="line">  &#123;% if theme.seo %&#125;</span><br><span class="line">    ...</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">    ...</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p></p><p>把这一段，把原来的修改成以下代码即可<br>ps: <code>title</code>和<code>subtitle</code>的<code>字体</code>还有<code>颜色</code>也可以在这个文件修改，即使用<code>style</code>标签，按个人爱好修改也可不要。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% <span class="keyword">if</span> subtitle %&#125;</span><br><span class="line">  &#123;% <span class="keyword">if</span> theme.seo %&#125;</span><br><span class="line">    &lt;p class="site-subtitle" id="helloTitle" itemprop="description"&gt;&lt;/p&gt;</span><br><span class="line">  &#123;% <span class="keyword">else</span> %&#125;</span><br><span class="line">    &lt;p id="helloTitle" class="site-subtitle"&gt;&lt;/p&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>之后部署后每次刷新就可以看到不同的subtitle了，开心😀</p><p>效果详见：<a href="https://lruihao.cn">https://lruihao.cn</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div class=&quot;note&quot;&gt;&lt;p&gt;本文适合我这种纯小白。&lt;br&gt;目前为止，全网也就只有一个博主写到过这样动态显示subtitle的文章。&lt;a href=&quot;https://www.jianshu.com/p/df2c844eeabf&quot; rel=&quot;external nofol
      
    
    </summary>
    
      <category term="hexo博客" scheme="https://lruihao.cn/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://lruihao.cn/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="前端" scheme="https://lruihao.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>高逼格c语言画心</title>
    <link href="https://lruihao.cn/heart.html"/>
    <id>https://lruihao.cn/heart.html</id>
    <published>2018-08-15T08:33:12.000Z</published>
    <updated>2018-08-29T11:18:51.581Z</updated>
    
    <content type="html"><![CDATA[<p>七夕又快到了，分享一个曾经玩过的代码，用C语言画一个跳动的心，很有逼格有木有。</p><p><img src="https://i.loli.net/2018/08/29/5b8680e407e09.gif" alt="大一的图"><br><a id="more"></a><br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;windows.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;tchar.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">f</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> y, <span class="keyword">float</span> z)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">float</span> a = x * x + <span class="number">9.0f</span> / <span class="number">4.0f</span> * y * y + z * z - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> a * a * a - x * x * z * z * z - <span class="number">9.0f</span> / <span class="number">80.0f</span> * y * y * z * z * z;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">float</span> <span class="title">h</span><span class="params">(<span class="keyword">float</span> x, <span class="keyword">float</span> z)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">float</span> y = <span class="number">1.0f</span>; y &gt;= <span class="number">0.0f</span>; y -= <span class="number">0.001f</span>)</span><br><span class="line">        <span class="keyword">if</span> (f(x, y, z) &lt;= <span class="number">0.0f</span>)</span><br><span class="line">            <span class="keyword">return</span> y;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.0f</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    HANDLE o = GetStdHandle(STD_OUTPUT_HANDLE);</span><br><span class="line">    _TCHAR buffer[<span class="number">25</span>][<span class="number">80</span>] = &#123; _T(<span class="string">' '</span>) &#125;;</span><br><span class="line">    _TCHAR ramp[] = _T(<span class="string">".:-=+*#%@"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">float</span> t = <span class="number">0.0f</span>;; t += <span class="number">0.1f</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> sy = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">float</span> s = sinf(t);</span><br><span class="line">        <span class="keyword">float</span> a = s * s * s * s * <span class="number">0.2f</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">float</span> z = <span class="number">1.3f</span>; z &gt; <span class="number">-1.2f</span>; z -= <span class="number">0.1f</span>) &#123;</span><br><span class="line">            _TCHAR* p = &amp;buffer[sy++][<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">float</span> tz = z * (<span class="number">1.2f</span> - a);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">float</span> x = <span class="number">-1.5f</span>; x &lt; <span class="number">1.5f</span>; x += <span class="number">0.05f</span>) &#123;</span><br><span class="line">                <span class="keyword">float</span> tx = x * (<span class="number">1.2f</span> + a);</span><br><span class="line">                <span class="keyword">float</span> v = f(tx, <span class="number">0.0f</span>, tz);</span><br><span class="line">                <span class="keyword">if</span> (v &lt;= <span class="number">0.0f</span>) &#123;</span><br><span class="line">                    <span class="keyword">float</span> y0 = h(tx, tz);</span><br><span class="line">                    <span class="keyword">float</span> ny = <span class="number">0.01f</span>;</span><br><span class="line">                    <span class="keyword">float</span> nx = h(tx + ny, tz) - y0;</span><br><span class="line">                    <span class="keyword">float</span> nz = h(tx, tz + ny) - y0;</span><br><span class="line">                    <span class="keyword">float</span> nd = <span class="number">1.0f</span> / sqrtf(nx * nx + ny * ny + nz * nz);</span><br><span class="line">                    <span class="keyword">float</span> d = (nx + ny - nz) * nd * <span class="number">0.5f</span> + <span class="number">0.5f</span>;</span><br><span class="line">                    *p++ = ramp[(<span class="keyword">int</span>)(d * <span class="number">5.0f</span>)];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    *p++ = <span class="string">' '</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (sy = <span class="number">0</span>; sy &lt; <span class="number">25</span>; sy++) &#123;</span><br><span class="line">            COORD coord = &#123; <span class="number">0</span>, sy &#125;;</span><br><span class="line">            SetConsoleCursorPosition(o, coord);</span><br><span class="line">            WriteConsole(o, buffer[sy], <span class="number">79</span>, <span class="literal">NULL</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Sleep(<span class="number">33</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><a href="/heart/heart.zip">exe文件下载</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;七夕又快到了，分享一个曾经玩过的代码，用C语言画一个跳动的心，很有逼格有木有。&lt;/p&gt;&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2018/08/29/5b8680e407e09.gif&quot; alt=&quot;大一的图&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="生活随笔" scheme="https://lruihao.cn/categories/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="生活随笔" scheme="https://lruihao.cn/tags/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>git index.lock</title>
    <link href="https://lruihao.cn/git-index-lock.html"/>
    <id>https://lruihao.cn/git-index-lock.html</id>
    <published>2018-08-14T11:21:23.000Z</published>
    <updated>2018-08-14T11:30:58.738Z</updated>
    
    <content type="html"><![CDATA[<p>在git没有运行完成之前强制关闭，下次提交的时候会产以下生错误，或者类似的。<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fatal: Unable to create <span class="string">'/xxx/xx/.git/index.lock'</span>: File exists.</span><br><span class="line"></span><br><span class="line">If no other git process is currently running, this probably means a</span><br><span class="line">git process crashed <span class="keyword">in</span> this repository earlier. Make sure no other git</span><br><span class="line">process is running and remove the file manually to <span class="built_in">continue</span>.</span><br></pre></td></tr></table></figure><p></p><p>原因是在你进行某些比较费时的git操作时自动生成，操作结束后自动删除，相当于一个锁定文件，目的在于防止对一个目录同时进行多个操作。<br>有时强制关闭进行中的git操作，这个文件没有被自动删除，之后你就无法进行其他操作，必须手动删除，进入.git文件中删除，打开显示隐藏文件。如果没有看见.git文件夹，可以直接用命令<code>rm -f ./.git/index.lock</code>。之后就可以正常使用。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在git没有运行完成之前强制关闭，下次提交的时候会产以下生错误，或者类似的。&lt;br&gt;&lt;/p&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/spa
      
    
    </summary>
    
      <category term="git" scheme="https://lruihao.cn/categories/git/"/>
    
    
      <category term="前端" scheme="https://lruihao.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="git" scheme="https://lruihao.cn/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>在Android上搭建hexo博客</title>
    <link href="https://lruihao.cn/termux.html"/>
    <id>https://lruihao.cn/termux.html</id>
    <published>2018-08-11T08:59:05.000Z</published>
    <updated>2018-08-30T04:11:42.030Z</updated>
    
    <content type="html"><![CDATA[<div class="note success"><p>暑假刚开始的时候放假回家没带电脑，只能玩手机，想折腾一下博客都没有条件，在一个发现一个app,卧槽😱，termux真的强大！(初始化需要科学上网)安卓手机上的linux简直了，在手机就可以搭了一个hexo博客，只要在github上实现分支管理就可以多终端同步更新了。恕我学疏才浅，还只想到这些！一开始想回校后，折腾一下hexo-admin实现类似动态博客一样的多终端管理(手动滑稽)，现在发现termux这样子的操作也不错嘛，挺装哔hhhhhh<strong><a href="https://lruihao.gitee.io" rel="external nofollow noopener noreferrer" target="_blank">部署后的效果</a></strong></p></div><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li>Termux</li><li>文件管理器（RE,MT文件管理器等高级一点的）</li></ul><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><p>打开Termux，输入$<code>pkg install nodejs</code>安装Nodejs，在输入<code>pkg install git</code>安装Git。<br>过程会出现一个提示，输入y回车确认即可。<br>按照Hexo官网提示安装Hexo。<br></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br><span class="line">hexo init blog</span><br><span class="line"><span class="built_in">cd</span> blog</span><br></pre></td></tr></table></figure><p></p><p><strong>注意ssh配置先安装：</strong><code>pkg install openssh</code><br>然后按照基本操作配置Hexo，GitHub或者gitee,coding等连上，部署测试一次。<br>安装部署插件<code>npm install hexo-deployer-git --save</code>，部署<code>hexo d -g</code><br>没有问题的话进行下一步。</p><h2 id="编辑"><a href="#编辑" class="headerlink" title="编辑"></a>编辑</h2><p>写文章的话创建md文件命令和电脑上一样，文件管理器打开<code>/data/data/com.termux/files/home/i/source/_posts/</code>编辑文章md文件。这种方式需要Root。<br>没有Root的话可以使用Vim，网上很多教程。但是这种方式相对来说更麻烦。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://www.sqlsec.com/2018/05/termux.html?yyue=a21bo.50862.201879" rel="external nofollow noopener noreferrer" target="_blank">termux高级终端安装使用配置教程</a><br><a href="https://www.oyohyee.com/post/Note/Termux" rel="external nofollow noopener noreferrer" target="_blank">使用 Termux 在手机上运行 linux 黑科技</a><br><a href="https://lruihao.cn/hexo%20+%20github%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.html">hexo 搭建过程</a><br><a href="https://my.oschina.net/ryaneLee/blog/638440" rel="external nofollow noopener noreferrer" target="_blank">超详细教程</a></p><h2 id="效果图-未连接github，coding等"><a href="#效果图-未连接github，coding等" class="headerlink" title="效果图(未连接github，coding等)"></a>效果图(未连接github，coding等)</h2><p><img src="https://wx1.sinaimg.cn/mw690/006vSs63gy1ft2a0jo3hmj30u01hcguh.jpg" alt=""><br><img src="https://wx4.sinaimg.cn/mw690/006vSs63gy1ft2a0kmm5xj30u01hcn2a.jpg" alt=""><br><img src="https://wx3.sinaimg.cn/mw690/006vSs63gy1ft2a0lqt61j30u01hctla.jpg" alt=""><br><img src="https://wx2.sinaimg.cn/mw690/006vSs63gy1ft2a0mgkm6j30u01hc78l.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div class=&quot;note success&quot;&gt;&lt;p&gt;暑假刚开始的时候放假回家没带电脑，只能玩手机，想折腾一下博客都没有条件，在一个发现一个app,卧槽😱，termux真的强大！(初始化需要科学上网)安卓手机上的linux简直了，在手机就可以搭了一个hexo博客，只要在gi
      
    
    </summary>
    
      <category term="hexo博客" scheme="https://lruihao.cn/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://lruihao.cn/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="termux" scheme="https://lruihao.cn/tags/termux/"/>
    
  </entry>
  
  <entry>
    <title>石子阵列(组合数学)</title>
    <link href="https://lruihao.cn/nowcoder157a.html"/>
    <id>https://lruihao.cn/nowcoder157a.html</id>
    <published>2018-08-10T14:11:00.000Z</published>
    <updated>2018-08-22T03:28:07.655Z</updated>
    
    <content type="html"><![CDATA[<p>链接：<a href="https://www.nowcoder.com/acm/contest/157/A" rel="external nofollow noopener noreferrer" target="_blank">https://www.nowcoder.com/acm/contest/157/A</a><br>来源：牛客网</p><h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>xb有m种石子，每种无限个，Ta想从这些石子中取出n个，并按顺序排列起来，为了好看，相邻的石子不能相同。xb想知道有多少种排列的方法。</p><h3 id="输入描述"><a href="#输入描述" class="headerlink" title="输入描述:"></a>输入描述:</h3><p>第一行有两个正整数n，m。</p><h3 id="输出描述"><a href="#输出描述" class="headerlink" title="输出描述:"></a>输出描述:</h3><p>第一行一个整数，表示在m种石子中取出n个的排列方案数模1000000007后的值。</p><h3 id="示例1"><a href="#示例1" class="headerlink" title="示例1"></a>示例1</h3><p>输入<br>1 1<br>输出<br>1</p><h3 id="示例2"><a href="#示例2" class="headerlink" title="示例2"></a>示例2</h3><p>输入<br>2 3<br>输出<br>6</p><h3 id="示例3"><a href="#示例3" class="headerlink" title="示例3"></a>示例3</h3><p>输入<br>3 3<br>输出<br>12</p><h3 id="备注"><a href="#备注" class="headerlink" title="备注:"></a>备注:</h3><p>对于100%的测试数据：<br>1 ≤ n, m ≤ 1000<br>数据量较大，注意使用更快的输入输出方式。</p><p>水题。。。<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,m,ans;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%lld%lld"</span>,&amp;n,&amp;m);</span><br><span class="line">    ans=m;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line">        ans=(ans*(m<span class="number">-1</span>))%<span class="number">1000000007</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%lld\n"</span>,ans);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;链接：&lt;a href=&quot;https://www.nowcoder.com/acm/contest/157/A&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;https://www.nowcoder.
      
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="组合数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="Nowcoder" scheme="https://lruihao.cn/tags/Nowcoder/"/>
    
      <category term="组合数学" scheme="https://lruihao.cn/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>Dreamoon and Stairs</title>
    <link href="https://lruihao.cn/codeforces476a.html"/>
    <id>https://lruihao.cn/codeforces476a.html</id>
    <published>2018-08-10T12:13:08.000Z</published>
    <updated>2018-08-10T13:18:19.400Z</updated>
    
    <content type="html"><![CDATA[<p><strong><a href="https://codeforces.com/contest/476/problem/a" rel="external nofollow noopener noreferrer" target="_blank">题目链接</a></strong></p><p>Dreamoon wants to climb up a stair of n steps. He can climb 1 or 2 steps at each move. Dreamoon wants the number of moves to be a multiple of an integer m.</p><p>What is the minimal number of moves making him climb to the top of the stairs that satisfies his condition?</p><h3 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h3><p>The single line contains two space separated integers n, m (0 &lt; n ≤ 10000, 1 &lt; m ≤ 10).</p><h3 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h3><p>Print a single integer — the minimal number of moves being a multiple of m. If there is no way he can climb satisfying condition print  - 1 instead.</p><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h3><h4 id="input"><a href="#input" class="headerlink" title="input"></a>input</h4><p>10 2</p><h4 id="output"><a href="#output" class="headerlink" title="output"></a>output</h4><p>6</p><h4 id="input-1"><a href="#input-1" class="headerlink" title="input"></a>input</h4><p>3 5</p><h4 id="output-1"><a href="#output-1" class="headerlink" title="output"></a>output</h4><p>-1</p><h3 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h3><p>For the first sample, Dreamoon could climb in 6 moves with following sequence of steps: {2, 2, 2, 2, 1, 1}.<br>For the second sample, there are only three valid sequence of steps {2, 1}, {1, 2}, {1, 1, 1} with 2, 2, and 3 steps respectively. All these numbers are not multiples of 5.</p><p>有一个n级台阶，每次可以走一级或两级，问最少的步数是多少，且步数必须是m的倍数。<br>找一下数学公式就好了。<br>具体看代码。<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> x,n,m;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;m)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="number">-1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==m)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)&#123;</span><br><span class="line">        x=n/<span class="number">2</span>%m;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;n/<span class="number">2</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;n/<span class="number">2</span>+m-x&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(n%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">        x=(n/<span class="number">2</span>+<span class="number">1</span>)%m;</span><br><span class="line">        <span class="keyword">if</span>(x==<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;n/<span class="number">2</span>+<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;(n/<span class="number">2</span>+<span class="number">1</span>)+m-x&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://codeforces.com/contest/476/problem/a&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;题目链接&lt;/a&gt;&lt;/stro
      
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="Codeforces" scheme="https://lruihao.cn/tags/Codeforces/"/>
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>Dreamoon and WiFi(组合数学)</title>
    <link href="https://lruihao.cn/codeforces476b.html"/>
    <id>https://lruihao.cn/codeforces476b.html</id>
    <published>2018-08-10T09:44:47.000Z</published>
    <updated>2018-08-10T12:15:15.622Z</updated>
    
    <content type="html"><![CDATA[<p><strong><a href="https://codeforces.com/contest/476/problem/B" rel="external nofollow noopener noreferrer" target="_blank">题目链接</a></strong></p><h3 id="题目大意"><a href="#题目大意" class="headerlink" title="题目大意"></a>题目大意</h3><p>就是给定两个字符串，第一个字符串由”+”,”-“组成，第二个字符串由”+”,”-“,”?”组成，“+”代表加1，”-“代表减一，“?”代表可取正也可取负，问第二个字符串的位置和第一个字符串相等的概率是多少。</p><p>我一开始的想法是把（+1，-1）^n 看成和二项式定理一样的展开始式，只不过把乘法改为加法，然后得到公式<br><code>c(n,0)(n+(-1)0)+c(n,1)(n-1+(-1)1)+c(n,i)(n-i+(-1)i)+...+c(n,n)(n-n+(-1)n)</code><br>化简一下可知通项为<code>c(n,i)(n-2*i)</code><br>然后我对第一个串求出位置sum,第二个串先求出已知位置sum1，然后记录下？的个数，然后遍历找出展开式中某一项n-2i+sum1==sum，这样x的系数就是可能出现位置相等的所有情况，用(n-2i)/系数和就是概率了啊，可是为什么不对呢，本地调试，数据没问题，可是交到cf上第二组都过不了，烦亏我还觉得想到一个独辟的方法呢，过不了。。。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//cf错误报告，思前恐后不晓得why,wtf???先码着吧</span><br><span class="line">Test: #2, time: 0 ms., memory: 0 KB, exit code: 0, checker exit code: 1, verdict: WRONG_ANSWER</span><br><span class="line">Input</span><br><span class="line">+-+-</span><br><span class="line">+-??</span><br><span class="line">Output</span><br><span class="line">-0.000000000000</span><br><span class="line">Answer</span><br><span class="line">0.500000000000</span><br><span class="line">Checker Log</span><br><span class="line">wrong answer 1st numbers differ - expected: &apos;0.5000000&apos;, found: &apos;-0.0000000&apos;, error = &apos;0.5000000&apos;</span><br></pre></td></tr></table></figure><p></p><h3 id="错误代码"><a href="#错误代码" class="headerlink" title="错误代码"></a>错误代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> c[<span class="number">11</span>][<span class="number">11</span>],sum=<span class="number">0</span>,sum1=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)&#123;<span class="comment">//杨辉三角</span></span><br><span class="line">        c[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        c[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt; i; j++)</span><br><span class="line">            c[i][j] = c[i<span class="number">-1</span>][j] + c[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">string</span> a,b;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="comment">//cout&lt;&lt;a&lt;&lt;endl&lt;&lt;b&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">int</span> len=a.length();</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;len;i++)</span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="string">'+'</span>) sum+=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> sum-=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;b.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b[i]==<span class="string">'+'</span>) sum1+=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b[i]==<span class="string">'-'</span>)sum1-=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(b[i]==<span class="string">'?'</span>) cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(sum==sum1&amp;&amp;cnt==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.000000000000\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> flag=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> x=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=cnt;j++)</span><br><span class="line">        x+=c[cnt][j];</span><br><span class="line">        <span class="comment">//cout&lt;&lt;x&lt;&lt;endl;</span></span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;=cnt;i++)</span><br><span class="line">        <span class="keyword">if</span>(cnt<span class="number">-2</span>*i+sum1==sum)&#123;</span><br><span class="line">            flag=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">double</span> y=c[cnt][i]*<span class="number">1.0</span>/x;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%.12llf\n"</span>,y);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span>(!flag)<span class="built_in">printf</span>(<span class="string">"0.000000000000\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>想不通，没办法只好换思路。。。。</p><p>我先分别记下a,b串的’+’,’-‘,’?’个数，然后后我们很容易知道，如要a,b位置相等,则加号和减号的数目，两串要相等，且a中的加号要比b中已知的加号要多，减号也要比b中已知的要多，否则打死都不会相等的，仔细比划一下就知道了。然后有z个‘?’，相当于有z个坑，让我们去填使得a,b相等。只能填+或-，设加号差等于x-p,所以概率就等于c(z,x-p)/2^z。</p><h3 id="AC代码"><a href="#AC代码" class="headerlink" title="AC代码"></a>AC代码</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> a,b;</span><br><span class="line">    <span class="keyword">int</span>  x,y,z,p,q,c[<span class="number">11</span>][<span class="number">11</span>],i,j;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">11</span>; i++)&#123;</span><br><span class="line">        c[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        c[i][i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j = <span class="number">1</span>; j &lt; i; j++)</span><br><span class="line">            c[i][j] = c[i<span class="number">-1</span>][j] + c[i<span class="number">-1</span>][j<span class="number">-1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;b;</span><br><span class="line">    x=y=z=p=q=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;a.length();i++)</span><br><span class="line">        <span class="keyword">if</span>(a[i]==<span class="string">'+'</span>) x++;</span><br><span class="line">        <span class="keyword">else</span> y++;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;b.length();i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(b[i]==<span class="string">'+'</span>) p++;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(b[i]==<span class="string">'-'</span>) q++;</span><br><span class="line">        <span class="keyword">else</span> z++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x==p&amp;&amp;z==<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"1.000000000000\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(x-p&lt;<span class="number">0</span>||y-q&lt;<span class="number">0</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0.000000000000\n"</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    x=x-p;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%0.12f"</span>,c[z][x]*<span class="number">1.0</span>/(<span class="number">2</span>&lt;&lt;(z<span class="number">-1</span>)));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>几分钟写完后面的代码，心中一万头草泥马在奔腾。。。。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://codeforces.com/contest/476/problem/B&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;题目链接&lt;/a&gt;&lt;/stro
      
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="组合数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="Codeforces" scheme="https://lruihao.cn/tags/Codeforces/"/>
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="组合数学" scheme="https://lruihao.cn/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>The equation-SGU106(扩展欧几里得)(转)</title>
    <link href="https://lruihao.cn/Euclid.html"/>
    <id>https://lruihao.cn/Euclid.html</id>
    <published>2018-08-10T02:32:39.000Z</published>
    <updated>2018-08-10T03:20:11.109Z</updated>
    
    <content type="html"><![CDATA[<p><strong><a href="https://www.cnblogs.com/Rinyo/archive/2012/11/25/2787419.html" rel="external nofollow noopener noreferrer" target="_blank">转载注明，侵删</a></strong></p><h3 id="题意："><a href="#题意：" class="headerlink" title="题意："></a>题意：</h3><p>给出a,b,c,x1,x2,y1,y2，求满足ax+by+c=0，且x∈[x1,x2],y∈[y1,y2]的整数解个数。</p><h3 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h3><p>对于解二元一次不定方程，容易想到利用扩展欧几里得求出一组可行解后找到通解，下面来介绍一下欧几里得以及扩展欧几里得。</p><h4 id="欧几里得："><a href="#欧几里得：" class="headerlink" title="欧几里得："></a>欧几里得：</h4><p>又名辗转相除法，是用来计算两个数的最大公约数，其中就是利用gcd(a,b)=gcd(b,a mod b)来求解。下证gcd(a,b)=gcd(b,a mod b)的正确性：</p><p>设a,b的一个公约数为d</p><p>设a mod b=r，则a=kb+r(k为整数)，r=a-kb</p><p>因为d|a,d|b</p><p>所以d|a-kb,即d|r，而r=a mod b</p><p>所以d为b,a mod b的公约数</p><p>又因为d也为a,b的公约数，所以（a,b)和(b,a mod b)的公约数一样，所以最大公约数必然一样，得证。</p><p>代码描述：<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a%b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h4 id="扩展欧几里得"><a href="#扩展欧几里得" class="headerlink" title="扩展欧几里得"></a>扩展欧几里得</h4><p>顾名思义，为上述欧几里得算法的扩展。欧几里得是用来求a,b的最大公约数，那么扩展欧几里得不仅能求出a,b的最大公约数，还能求出满足ax+by=gcd(a,b)的一组可行解。<br>求解过程中，扩展欧几里得比欧几里得多了一个赋值过程，具体证明如下：</p><p>设ax1+by1=gcd(a,b),bx2+(a mod b)y2=gcd(b,a mod b)</p><p>因为由欧几里得算法可知，gcd(a,b)=gcd(b,a mod b)</p><p>所以ax1+by1=bx2+(a mod b)y2</p><p>因为<code>a mod b=a-(a div b)*b（div为整除</code></p><p>所以有<code>ax1+by1=bx2+(a-(a div b)*b)y2</code></p><p>将右边移项，展开得：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ax1+by1=ay2+bx2-(a div b)*b*y2</span><br><span class="line">       =ay2+b[x2-(a div b)]y2</span><br></pre></td></tr></table></figure><p></p><p>所以可得：<br><code>x1=y2</code><br><code>y1=x2-(a div b)*y2</code></p><p>将得到的的x1,y1递归操作求解x2,y2，如此循环往复，将会像欧几里得一样得到b=0的情况，此时递归结束，返回x=1,y=0，回溯得解。</p><p>代码描述：</p><p>此函数返回的是a,b的最大公约数，同时也求解出满足ax+by=gcd(a,b)的一组可行的(x,y)</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) &#123;x=<span class="number">1</span>;y=<span class="number">0</span>;<span class="keyword">return</span> a;&#125;</span><br><span class="line">    <span class="keyword">int</span> t=exgcd(b,a%b,x,y);</span><br><span class="line">    <span class="keyword">int</span> x0=x,y0=y;</span><br><span class="line">    x=y0;y=x0-(a/b)*y0;</span><br><span class="line">    <span class="keyword">return</span> t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="关于求解二元一次不定方程ax-by-c"><a href="#关于求解二元一次不定方程ax-by-c" class="headerlink" title="关于求解二元一次不定方程ax+by=c"></a>关于求解二元一次不定方程ax+by=c</h4><p>首先，如果c不是gcd(a,b)的倍数，方程显然无解。</p><p>扩展欧几里得求解的是ax+by=gcd(a,b)=1的可行解，但是题目中并没有说c与a,b互质之类的条件，所以需要在开始时两边同时除以gcd(a,b)。</p><p>设d=gcd(a,b)</p><p>设a’=a/d,b’=b/d,c’=c/d,</p><p>则下面需要求解a’x+b’y=c’的整数解，而gcd(a’,b’)=1，</p><p>则我们只需求a’x+b’y=1的可行解</p><p>直接使用扩展欧几里得，得到(x’,y’),则最终解为<code>x&#39;*c&#39;,y&#39;*c&#39;</code>设为(x0,y0)。</p><p>现在得到了一组可行解，但是如何得到通解呢？</p><p>将(x0,y0)代入ax+by=c，则有</p><p><code>a*(x0)+b*(y0)=c</code></p><p>通过拆添项，可有：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a*(x0+1*b)+b*(y0-1*a)=c</span><br><span class="line"></span><br><span class="line">a*(x0+2*b)+b*(y0-2*a)=c</span><br><span class="line"></span><br><span class="line">a*(x0+3*b)+b*(y0-3*a)=c</span><br><span class="line"></span><br><span class="line">……</span><br></pre></td></tr></table></figure><p><code>a*(x0+k*b)+b*(y0-k*a)=c (k∈Z)</code></p><p>至此，我们得到了通解的方程</p><p><code>x=x0+k*b</code><br><code>y=y0-k*a (k∈Z)</code></p><p>这样，所有满足ax+by=c的可行解都可求出。</p><h3 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h3><p>有了主体算法，下面要谈到具体实现了。</p><h4 id="先处理一下无解的情况："><a href="#先处理一下无解的情况：" class="headerlink" title="先处理一下无解的情况："></a>先处理一下无解的情况：</h4><ol><li><p>当a=0并且b=0，而c≠0时，显然无解；<br>当a=0,b=0，而c=0时，[x1,x2],[y1,y2]都为可行解，根据乘法原理，可行解的个数为<code>(x2-x1+1)*(y2-y1+1)</code>;</p></li><li><p>当a=0 b≠0时：<br>此时即为求解by=c，则y=c/b，<br>如果c/b不是整数或c/b不在[y1,y2]的范围内，无解<br>否则[x1,x2]内全部整数都为可行解.</p></li><li><p>当b=0,a≠0时，同上。</p></li><li><p>若c不是gcd(a,b)的个数，方程显然无解。</p></li></ol><h4 id="处理完了一些繁琐的细节后，下面是具体的求解过程："><a href="#处理完了一些繁琐的细节后，下面是具体的求解过程：" class="headerlink" title="处理完了一些繁琐的细节后，下面是具体的求解过程："></a>处理完了一些繁琐的细节后，下面是具体的求解过程：</h4><ol><li><p>扩展欧几里得求解的是ax+by=c，而本题是ax+by+c=0，需将c移项。</p></li><li><p>对于本道题，首先要注意的是，对于负数的模运算在此算法中无法得到正确解，所以要处理一下a,b,c的正负情况。<br>如果a为负数，只需将a取相反数后，再处理一下x∈[x1,x2]的范围。当a取了相反数，相当于把x也取反，则需要把x的范围由[x1,x2]转变成[-x2,-x1],类似于把数轴反了过来。b同理。</p></li><li><p>利用扩展欧几里得解二元一次不定方程，得到一组可行解(x0,y0)。</p></li><li><p>因为题目中对x,y有条件约束，而有x=x0+kb,y=y0-kb，我们可以求出满足x∈[x1,x2],y∈[y1,y2]的k的取值范围,<br>即为求解x1&lt;=x0+kb&lt;=x2,y1&lt;=y0-kb&lt;=y2的整数k的个数<br>但是在求解这两个一次函数的过程中，会有除不尽的现象，该如何取整呢？</p></li></ol><p>举个例子</p><p>当出现2.5&lt;=k&lt;=5.5时，我们需要的可行的k为3,4,5，所以需要将2.5向上取整得到3，5.5向下取整得到5，即为3&lt;=k&lt;=5；</p><p>当出现-5.5&lt;=&lt;=-2.5时，我们需要的可行的k为-5,-4,-3,所以需要将-5.5向上取整得到-5,-2.5向下取整得到-3，即为-5&lt;=k&lt;=-3；</p><p>正负数的情况都已经考虑完全了，可以得到取整的结论：上界下取整，下界上取整。</p><p>最后，将得到的两个范围取交集，得到[l,r]，则最终答案为r-l+1。</p><p>这样，本题就可以完美解决了。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// BY Rinyo</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> a,b,c,x1,x2,yy1,y2,x0,yy0;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">cmin</span><span class="params">(<span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> &amp;x,<span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> &amp;y)</span> </span>&#123;<span class="keyword">return</span> x&lt;y?x:y;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">long</span> <span class="keyword">long</span> <span class="title">cmax</span><span class="params">(<span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> &amp;x,<span class="keyword">const</span> <span class="keyword">long</span> <span class="keyword">long</span> &amp;y)</span> </span>&#123;<span class="keyword">return</span> x&gt;y?x:y;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">gcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>) <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">return</span> gcd(b,a % b);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> a,<span class="keyword">long</span> <span class="keyword">long</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (b==<span class="number">0</span>)&#123;x0=<span class="number">1</span>;yy0=<span class="number">0</span>;<span class="keyword">return</span>;&#125;</span><br><span class="line">    exgcd(b,a%b);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> t=x0;x0=yy0;yy0=t-a/b*yy0;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%I64d%I64d%I64d%I64d%I64d%I64d%I64d"</span>,&amp;a,&amp;b,&amp;c,&amp;x1,&amp;x2,&amp;yy1,&amp;y2);</span><br><span class="line">    c=-c;</span><br><span class="line">    <span class="keyword">if</span> (c&lt;<span class="number">0</span>) &#123;a=-a;b=-b;c=-c;&#125;</span><br><span class="line">    <span class="keyword">if</span> (a&lt;<span class="number">0</span>) &#123;a=-a;<span class="keyword">long</span> <span class="keyword">long</span> t=x1;x1=-x2;x2=-t;&#125;</span><br><span class="line">    <span class="keyword">if</span> (b&lt;<span class="number">0</span>) &#123;b=-b;<span class="keyword">long</span> <span class="keyword">long</span> t=yy1;yy1=-y2;y2=-t;&#125;</span><br><span class="line">    <span class="keyword">if</span> (a==<span class="number">0</span> &amp;&amp; b==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (c==<span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%I64d"</span>,(x2-x1+<span class="number">1</span>)*(y2-yy1+<span class="number">1</span>));</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0"</span>);<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (a==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (c %b ==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> (c/b&lt;=y2 &amp;&amp; c/b&gt;=yy1) &#123;<span class="built_in">printf</span>(<span class="string">"%I64d"</span>,x2-x1+<span class="number">1</span>);<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0"</span>);<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (b==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (c%a==<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> (c/a&lt;=x2 &amp;&amp; c/a&gt;=x1) &#123;<span class="built_in">printf</span>(<span class="string">"%I64d"</span>,y2-yy1+<span class="number">1</span>);<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"0"</span>);<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> d=gcd(a,b);</span><br><span class="line">    <span class="keyword">if</span> (c%d!=<span class="number">0</span>)&#123;<span class="built_in">printf</span>(<span class="string">"0"</span>);<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line"></span><br><span class="line">    a=a/d;b=b/d;c=c/d;</span><br><span class="line">    exgcd(a,b);</span><br><span class="line">    x0=x0*c;yy0=yy0*c;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">double</span> tx2=x2,tx1=x1,tx0=x0,ta=a,tb=b,tc=c,ty1=yy1,ty2=y2,ty0=yy0;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> down1=<span class="built_in">floor</span>(((tx2-tx0)/tb)),down2=<span class="built_in">floor</span>(((ty0-ty1)/ta));</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> r=cmin(down1,down2);</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> up1=<span class="built_in">ceil</span>(((tx1-tx0)/tb)),up2=<span class="built_in">ceil</span>(((ty0-ty2)/ta));</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> l=cmax(up1,up2);</span><br><span class="line">    <span class="keyword">if</span> (r&lt;l) <span class="built_in">printf</span>(<span class="string">"0"</span>);</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">"%I64d"</span>,r-l+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>扩展欧几里得模板<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b,<span class="keyword">int</span> &amp;x,<span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(b==<span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        x=<span class="number">1</span>;</span><br><span class="line">        y=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> gcd=exgcd(b,a%b,x,y);</span><br><span class="line">    <span class="keyword">int</span> x2=x,y2=y;</span><br><span class="line">    x=y2;</span><br><span class="line">    y=x2-(a/b)*y2;</span><br><span class="line">    <span class="keyword">return</span> gcd;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> x,y,a,b;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"请输入a和b:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"a和b的最大公约数:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;exgcd(a,b,x,y)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;<span class="string">"ax+by=gcd(a,b) 的一组解是:"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="built_in">cout</span>&lt;&lt;x&lt;&lt;<span class="string">" "</span>&lt;&lt;y&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;https://www.cnblogs.com/Rinyo/archive/2012/11/25/2787419.html&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blan
      
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="欧几里得" scheme="https://lruihao.cn/tags/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97/"/>
    
  </entry>
  
  <entry>
    <title>Leading and Trailing-lightoj1282(快速幂+对数运算)</title>
    <link href="https://lruihao.cn/lightoj1282.html"/>
    <id>https://lruihao.cn/lightoj1282.html</id>
    <published>2018-08-09T12:55:26.000Z</published>
    <updated>2018-08-10T02:34:39.345Z</updated>
    
    <content type="html"><![CDATA[<h3 id="题目链接"><a href="#题目链接" class="headerlink" title="题目链接"></a><a href="https://vjudge.net/contest/238979#problem/E" rel="external nofollow noopener noreferrer" target="_blank">题目链接</a></h3><h3 id="题目大意："><a href="#题目大意：" class="headerlink" title="题目大意："></a>题目大意：</h3><p>给定两个数n,k 求n^k的前三位和最后三位。</p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>求后三位的话：直接快速幂，对1000取模就好了。<br>求前三位，对于给定的一个数n,它可以写成n=10^a,其中这个a为浮点数,则<code>t=n^k=(10^a)^k=10^a*k=(10^x)*(10^y);</code>其中x,y分别是<code>a*k</code>的整数部分和小数部分，对于t=n^k这个数，它的位数由(10^x)决定，它的位数上的值则有(10^y)决定，因此我们要求t的前三位，只需要将10^y求出，在乘以100，就得到了它的前三位。<br>分析完，我们再整体看，设n^k=10^z;那么<code>z=k*log10(n)</code><br><code>fmod(z,1)</code>可以求出x的小数部分。</p><a id="more"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//再一次吐槽lightoj的头文件，让我不能用万能头&lt;bits/stdc++.h&gt;</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">quickpow</span> <span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (n &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &amp; <span class="number">1</span>)</span><br><span class="line">            b = (b * m) % k;</span><br><span class="line">        n &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        m = (m * m) % k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> b%k;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> t, flag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">scanf</span> (<span class="string">"%d"</span>, &amp;t);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (t--)</span><br><span class="line">    &#123;</span><br><span class="line">        LL n, k;</span><br><span class="line">        <span class="built_in">scanf</span> (<span class="string">"%lld %lld"</span>, &amp;n, &amp;k);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> first = <span class="built_in">pow</span> (<span class="number">10.0</span>, <span class="number">2.0</span> + <span class="built_in">fmod</span> (k*<span class="built_in">log10</span>(n*<span class="number">1.0</span>), <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">int</span> last = quickpow (n%<span class="number">1000</span>, k, <span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span> (<span class="string">"Case %d: %d %03d\n"</span>, flag++, first, last);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="注："><a href="#注：" class="headerlink" title="注："></a>注：</h3><p>C库函数 - fmod()<br>C 库函数 double fmod(double x, double y) 返回 x 除以 y 的余数。</p><ul><li>x – 代表分子的浮点值。</li><li>y – 代表分母的浮点值。<br>该函数返回 x/y 的余数。</li></ul><p>下面的实例演示了 fmod() 函数的用法。<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="keyword">float</span> a, b;</span><br><span class="line">   <span class="keyword">int</span> c;</span><br><span class="line">   a = <span class="number">9.2</span>;</span><br><span class="line">   b = <span class="number">3.7</span>;</span><br><span class="line">   c = <span class="number">2</span>;</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%f / %d 的余数是 %lf\n"</span>, a, c, <span class="built_in">fmod</span>(a,c));</span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"%f / %f 的余数是 %lf\n"</span>, a, b, <span class="built_in">fmod</span>(a,b));</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>结果：</p><p>9.200000 / 2 的余数是 1.200000<br>9.200000 / 3.700000 的余数是 1.800000</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;题目链接&quot;&gt;&lt;a href=&quot;#题目链接&quot; class=&quot;headerlink&quot; title=&quot;题目链接&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://vjudge.net/contest/238979#problem/E&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;题目链接&lt;/a&gt;&lt;/h3&gt;&lt;h3 id=&quot;题目大意：&quot;&gt;&lt;a href=&quot;#题目大意：&quot; class=&quot;headerlink&quot; title=&quot;题目大意：&quot;&gt;&lt;/a&gt;题目大意：&lt;/h3&gt;&lt;p&gt;给定两个数n,k 求n^k的前三位和最后三位。&lt;/p&gt;&lt;h3 id=&quot;分析&quot;&gt;&lt;a href=&quot;#分析&quot; class=&quot;headerlink&quot; title=&quot;分析&quot;&gt;&lt;/a&gt;分析&lt;/h3&gt;&lt;p&gt;求后三位的话：直接快速幂，对1000取模就好了。&lt;br&gt;求前三位，对于给定的一个数n,它可以写成n=10^a,其中这个a为浮点数,则&lt;code&gt;t=n^k=(10^a)^k=10^a*k=(10^x)*(10^y);&lt;/code&gt;其中x,y分别是&lt;code&gt;a*k&lt;/code&gt;的整数部分和小数部分，对于t=n^k这个数，它的位数由(10^x)决定，它的位数上的值则有(10^y)决定，因此我们要求t的前三位，只需要将10^y求出，在乘以100，就得到了它的前三位。&lt;br&gt;分析完，我们再整体看，设n^k=10^z;那么&lt;code&gt;z=k*log10(n)&lt;/code&gt;&lt;br&gt;&lt;code&gt;fmod(z,1)&lt;/code&gt;可以求出x的小数部分。&lt;/p&gt;
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="快速幂" scheme="https://lruihao.cn/tags/%E5%BF%AB%E9%80%9F%E5%B9%82/"/>
    
  </entry>
  
  <entry>
    <title>Codeforces Round 502(Div.1 + Div.2)</title>
    <link href="https://lruihao.cn/cfcontest1017.html"/>
    <id>https://lruihao.cn/cfcontest1017.html</id>
    <published>2018-08-09T02:48:00.000Z</published>
    <updated>2018-08-10T12:22:06.915Z</updated>
    
    <content type="html"><![CDATA[<h3 id="A-The-Rank"><a href="#A-The-Rank" class="headerlink" title="A. The Rank"></a><a href="https://codeforces.com/contest/1017/problem/A" rel="external nofollow noopener noreferrer" target="_blank">A. The Rank</a></h3><p>题目大意：<br>给出n个学生的成绩，Thomas Smith的成绩是第一行，然后要按总成绩进行排序，总分相同的按编号从小到大排；<br>开始看还以为要写sort的cmp函数进行多条件排序，敲完才发现其实只要按总分就可以了，因为托马斯的id是一，必然会排在前面。</p><a id="more"></a><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">4</span>],sum[<span class="number">1005</span>];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,s,f1;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">        s=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">4</span>;i++)&#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;a[i];</span><br><span class="line">            s+=a[i];</span><br><span class="line">        &#125;</span><br><span class="line">        sum[j]=s;</span><br><span class="line">        <span class="keyword">if</span>(j==<span class="number">1</span>) f1=s;</span><br><span class="line">    &#125;</span><br><span class="line">    sort(sum+<span class="number">1</span>,sum+n+<span class="number">1</span>,greater&lt;<span class="keyword">int</span>&gt;());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        <span class="keyword">if</span>(sum[i]==f1)&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="B-The-Bits"><a href="#B-The-Bits" class="headerlink" title="B. The Bits"></a><a href="http://codeforces.com/contest/1017/problem/B" rel="external nofollow noopener noreferrer" target="_blank">B. The Bits</a></h3><p>题目大意：<br>先给出二进制数的长度，然后输入两个二进制数a,b，问交换a中的某些位数的数，使得a|b(按位或)的结果不同，求有多少种不同的或值。</p><table><thead><tr><th style="text-align:center">a,b上下对应的情况：a/b</th><th style="text-align:center">个数</th></tr></thead><tbody><tr><td style="text-align:center">1/0</td><td style="text-align:center">m</td></tr><tr><td style="text-align:center">0/0</td><td style="text-align:center">n</td></tr><tr><td style="text-align:center">1/1</td><td style="text-align:center">x</td></tr><tr><td style="text-align:center">0/1</td><td style="text-align:center">y</td></tr></tbody></table><p>用组合数学的思想来想：<br>只要看b为0的位就行了，如果0/0,a只能换1的位置，为了避免重复，所以这里总数为<code>n*x</code>,<br>再考虑1/0的情况，只能和0的位置换，这是后可以把0/0没算的都算上，所以总数<code>m*(n+y)</code><br><strong>所以最后总数为<code>sum=n*x+m*(n+y)</code></strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> n,m,x,y,t;</span><br><span class="line">    n=m=x=y=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">char</span> a[<span class="number">100005</span>],b[<span class="number">100005</span>];</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;t;i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> p=a[i]-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">int</span> q=b[i]-<span class="string">'0'</span>;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">0</span>&amp;&amp;q==<span class="number">0</span>) n++;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">1</span>&amp;&amp;q==<span class="number">0</span>) m++;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">1</span>&amp;&amp;q==<span class="number">1</span>) x++;</span><br><span class="line">        <span class="keyword">if</span>(p==<span class="number">0</span>&amp;&amp;q==<span class="number">1</span>) y++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> sum=n*x+m*(y+n);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;sum&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;A-The-Rank&quot;&gt;&lt;a href=&quot;#A-The-Rank&quot; class=&quot;headerlink&quot; title=&quot;A. The Rank&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://codeforces.com/contest/1017/problem/A&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;A. The Rank&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;题目大意：&lt;br&gt;给出n个学生的成绩，Thomas Smith的成绩是第一行，然后要按总成绩进行排序，总分相同的按编号从小到大排；&lt;br&gt;开始看还以为要写sort的cmp函数进行多条件排序，敲完才发现其实只要按总分就可以了，因为托马斯的id是一，必然会排在前面。&lt;/p&gt;
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="Codeforces" scheme="https://lruihao.cn/tags/Codeforces/"/>
    
      <category term="组合数学" scheme="https://lruihao.cn/tags/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>欧拉函数</title>
    <link href="https://lruihao.cn/euler.html"/>
    <id>https://lruihao.cn/euler.html</id>
    <published>2018-08-08T09:10:07.000Z</published>
    <updated>2018-08-09T00:43:55.808Z</updated>
    
    <content type="html"><![CDATA[<h3 id="欧拉函数是求小于x并且和x互质的数的个数"><a href="#欧拉函数是求小于x并且和x互质的数的个数" class="headerlink" title="欧拉函数是求小于x并且和x互质的数的个数"></a><strong><em>欧拉函数是求小于x并且和x<a href="https://baike.baidu.com/item/%E4%BA%92%E8%B4%A8/577412?fr=aladdin" rel="external nofollow noopener noreferrer" target="_blank">互质</a>的数的个数</em></strong></h3><p>通式：φ(x)=x(1-1/p1)(1-1/p2)(1-1/p3)(1-1/p4)…..(1-1/pn)<br><strong>其中p1, p2……pn为x的所有质因数，x是不为0的整数</strong><br>φ(1)=1（唯一和1互质的数就是1本身）【注意：每种质因数只一个。比如12=2<em>2</em>3】</p><h3 id="定理："><a href="#定理：" class="headerlink" title="定理："></a>定理：</h3><ol><li>若n是素数p的k次幂，φ(n)=p^k-p^(k-1)=(p-1)p^(k-1)，因为除了p的倍数外，其他数都跟n互质 <img src="https://i.loli.net/2018/08/08/5b6ab31239225.jpg" alt="IMG_20180808_170807.jpg"></li><li>欧拉函数是积性函数——若m,n互质，φ(mn)=φ(m)φ(n)</li></ol><h3 id="特殊性质："><a href="#特殊性质：" class="headerlink" title="特殊性质："></a>特殊性质：</h3><ol><li>当n为奇数时，φ(2n)=φ(n)</li><li>p是素数，φ(p) = p - 1，φ(p)称为p的欧拉值</li><li>若a为素数,b mod a=0,<code>φ(a*b)=φ(b)*a</code></li></ol><a id="more"></a><h3 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h3><p>//直接法<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Euler</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> res = n,i;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//由于任何一个合数都至少有一个不大于根号n的素因子，所以只要遍历到根号n即可</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i * i &lt;= n;i++)</span><br><span class="line"><span class="keyword">if</span>(n%i == <span class="number">0</span>)&#123;  <span class="comment">//第一次找到的必为素因子</span></span><br><span class="line">n /=i ;</span><br><span class="line">res = res - res/i;<span class="comment">//x(1-1/p1)</span></span><br><span class="line"><span class="keyword">while</span>(n % i ==<span class="number">0</span>)</span><br><span class="line">n/=i;  <span class="comment">//将该素因子的倍数也全部筛掉</span></span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> (n &gt; <span class="number">1</span>)   </span><br><span class="line">        res = res - res/n; </span><br><span class="line">   <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><a href="https://blog.csdn.net/wangjian8006/article/details/7833319" rel="external nofollow noopener noreferrer" target="_blank">以上转载注明</a></p><p>//素数筛选法，先素数筛选，再求欧拉<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">特性 :</span></span><br><span class="line"><span class="comment">1.若a为质数,phi[a]=a-1;</span></span><br><span class="line"><span class="comment">2.若a为质数,b mod a=0,phi[a*b]=phi[b]*a</span></span><br><span class="line"><span class="comment">3.若a,b互质,phi[a*b]=phi[a]*phi[b](当a为质数时,if b mod a!=0 ,phi[a*b]=phi[a]*phi[b])</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">int</span> m[n],phi[n],p[n],nump;</span><br><span class="line"><span class="comment">//m[i]标记i是否为素数,0为素数,1不为素数;p是存放素数的数组;nump是当前素数个数;phi[i]为欧拉函数</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">make</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        phi[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!m[i])<span class="comment">//i为素数，m[]初始化为0</span></span><br><span class="line">        &#123;</span><br><span class="line">            p[++nump]=i;<span class="comment">//将i加入素数数组p中</span></span><br><span class="line">            phi[i]=i<span class="number">-1</span>;<span class="comment">//因为i是素数,由特性得知    </span></span><br><span class="line">        &#125;    </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=nump&amp;&amp;p[j]*i&lt;n;j++)  <span class="comment">//用当前已的到的素数数组p筛,筛去p[j]*i</span></span><br><span class="line">        &#123;</span><br><span class="line">            m[p[j]*i]=<span class="number">1</span>;<span class="comment">//可以确定i*p[j]不是素数 </span></span><br><span class="line">            <span class="keyword">if</span> (i%p[j]==<span class="number">0</span>) <span class="comment">//看p[j]是否是i的约数,因为素数p[j],等于判断i和p[j]是否互质 </span></span><br><span class="line">            &#123;</span><br><span class="line">                phi[p[j]*i]=phi[i]*p[j]; <span class="comment">//特性2</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> phi[p[j]*i]=phi[i]*(p[j]<span class="number">-1</span>); <span class="comment">//互质,特性3,p[j]-1就是phi[p[j]]   </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>附素数打表<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>  p[N]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;N;i++)</span><br><span class="line"><span class="keyword">if</span>(!p[i])&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>*i;j&lt;=N;j+=i)<span class="comment">//筛掉i的倍数</span></span><br><span class="line">p[j]=<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p><a href="https://vjudge.net/contest/238979#problem/A" rel="external nofollow noopener noreferrer" target="_blank">Bi-shoe and Phi-shoe</a> LightOJ - 1370</p><p>题意：<br></p><div class="note"><p>给一些数Ai（第 i 个数），Ai这些数代表的是某个数欧拉函数的值，我们要求出数 Ni 的欧拉函数值不小于Ai。而我们要求的就是这些 Ni 这些数字的和sum，而且我们想要sum最小，求出sum最小多少。</p></div><p></p><p>解题思路：</p><div class="note"><p>要求和最小，我们可以让每个数都尽量小，那么我们最后得到的肯定就是一个最小值。<br>给定一个数的欧拉函数值ψ(N)，我们怎么样才能求得最小的N?<br>我们知道，一个素数P的欧拉函数值ψ(P)=P-1。所以如果我们知道ψ(N)，那么最小的N就是最接近ψ(N)，并且大于ψ(N)的素数。我们把所有素数打表之后再判断就可以了。</p></div><p>这个lightoj有毒，什么头文件都不支持，卡了我好久。。。<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> N 1000005</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> ll long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> m[N]=&#123;<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> p[<span class="number">100000</span>],cnt=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x&gt;y?x:y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">prime</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;N;i++)</span><br><span class="line">    <span class="keyword">if</span>(!m[i])&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">2</span>*i;j&lt;=N;j+=i)</span><br><span class="line">            m[j]=<span class="number">1</span>;</span><br><span class="line">        p[cnt++]=i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binary_search</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;<span class="comment">//二分查找</span></span><br><span class="line">    <span class="keyword">int</span> l=<span class="number">0</span>,r=cnt;</span><br><span class="line">    <span class="keyword">while</span>(l&lt;=r)&#123;</span><br><span class="line">        <span class="keyword">int</span> mid=(l+r)/<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span>(p[mid]&gt;x)</span><br><span class="line">            r=mid<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">else</span> l=mid+<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=max(r,<span class="number">0</span>);;i++)</span><br><span class="line">        <span class="keyword">if</span>(p[i]&gt;x)</span><br><span class="line">        <span class="keyword">return</span> p[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    prime();</span><br><span class="line">    <span class="keyword">int</span> T,n,cas=<span class="number">1</span>,temp;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line">        ll sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;temp);</span><br><span class="line">            sum+=binary_search(temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Case %d: %lld Xukha\n"</span>,cas++,sum);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;欧拉函数是求小于x并且和x互质的数的个数&quot;&gt;&lt;a href=&quot;#欧拉函数是求小于x并且和x互质的数的个数&quot; class=&quot;headerlink&quot; title=&quot;欧拉函数是求小于x并且和x互质的数的个数&quot;&gt;&lt;/a&gt;&lt;strong&gt;&lt;em&gt;欧拉函数是求小于x并且和x&lt;a href=&quot;https://baike.baidu.com/item/%E4%BA%92%E8%B4%A8/577412?fr=aladdin&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;互质&lt;/a&gt;的数的个数&lt;/em&gt;&lt;/strong&gt;&lt;/h3&gt;&lt;p&gt;通式：φ(x)=x(1-1/p1)(1-1/p2)(1-1/p3)(1-1/p4)…..(1-1/pn)&lt;br&gt;&lt;strong&gt;其中p1, p2……pn为x的所有质因数，x是不为0的整数&lt;/strong&gt;&lt;br&gt;φ(1)=1（唯一和1互质的数就是1本身）【注意：每种质因数只一个。比如12=2&lt;em&gt;2&lt;/em&gt;3】&lt;/p&gt;&lt;h3 id=&quot;定理：&quot;&gt;&lt;a href=&quot;#定理：&quot; class=&quot;headerlink&quot; title=&quot;定理：&quot;&gt;&lt;/a&gt;定理：&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;若n是素数p的k次幂，φ(n)=p^k-p^(k-1)=(p-1)p^(k-1)，因为除了p的倍数外，其他数都跟n互质 &lt;img src=&quot;https://i.loli.net/2018/08/08/5b6ab31239225.jpg&quot; alt=&quot;IMG_20180808_170807.jpg&quot;&gt;&lt;/li&gt;&lt;li&gt;欧拉函数是积性函数——若m,n互质，φ(mn)=φ(m)φ(n)&lt;/li&gt;&lt;/ol&gt;&lt;h3 id=&quot;特殊性质：&quot;&gt;&lt;a href=&quot;#特殊性质：&quot; class=&quot;headerlink&quot; title=&quot;特殊性质：&quot;&gt;&lt;/a&gt;特殊性质：&lt;/h3&gt;&lt;ol&gt;&lt;li&gt;当n为奇数时，φ(2n)=φ(n)&lt;/li&gt;&lt;li&gt;p是素数，φ(p) = p - 1，φ(p)称为p的欧拉值&lt;/li&gt;&lt;li&gt;若a为素数,b mod a=0,&lt;code&gt;φ(a*b)=φ(b)*a&lt;/code&gt;&lt;/li&gt;&lt;/ol&gt;
    
    </summary>
    
      <category term="数学" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/categories/%E6%95%B0%E5%AD%A6/%E6%95%B0%E8%AE%BA/"/>
    
    
      <category term="数学" scheme="https://lruihao.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
      <category term="数论" scheme="https://lruihao.cn/tags/%E6%95%B0%E8%AE%BA/"/>
    
      <category term="euler" scheme="https://lruihao.cn/tags/euler/"/>
    
  </entry>
  
  <entry>
    <title>Heavy Transportation-poj1797(dijkstra或最大生成树)</title>
    <link href="https://lruihao.cn/poj1797.html"/>
    <id>https://lruihao.cn/poj1797.html</id>
    <published>2018-08-06T01:42:11.000Z</published>
    <updated>2018-08-06T03:58:58.498Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://poj.org/problem?id=1797" rel="external nofollow noopener noreferrer" target="_blank">题目链接</a><br>大意：<br>要从城市1到城市N运送货物，有M条道路，每条道路都有它的最大载重量，问从城市1到城市N运送最多的重量是多少。<br>其实题意很简单，就是找一条1–&gt;N的路径，在不超过每条路径的最大载重量的情况下，使得运送的货物最多。一条路径上的最大载重量为这个路径上权值最小的边;<br><img src="/poj1797/更新.jpg" alt=""><br><a id="more"></a><br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//dijkstra</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> min(a,b) (a&lt;b?a:b)</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n,m,v[<span class="number">1010</span>],maps[<span class="number">1010</span>][<span class="number">1010</span>],d[<span class="number">1010</span>];<span class="comment">//此时d表示1到每一个点的能通过的最大的重量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dijkstra</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,k;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        v[i]=<span class="number">0</span>;</span><br><span class="line">        d[i]=maps[<span class="number">1</span>][i];<span class="comment">//这个时候d不代表最短路径，而是从1到n的最大承载量</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)&#123;<span class="comment">//n个点</span></span><br><span class="line">        <span class="keyword">int</span> f=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!v[j]&amp;&amp;d[j]&gt;f)&#123;</span><br><span class="line">                f=d[j];</span><br><span class="line">                k=j;</span><br><span class="line">            &#125;</span><br><span class="line">        v[k]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!v[j]&amp;&amp;d[j]&lt;min(d[k],maps[k][j]))<span class="comment">//更新说明见图解</span></span><br><span class="line">                d[j]=min(d[k],maps[k][j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> d[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> a,b,w;</span><br><span class="line">    <span class="keyword">int</span> T;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=n;j++)</span><br><span class="line">maps[i][j]=<span class="number">0</span>;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;n,&amp;m);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;a,&amp;b,&amp;w);</span><br><span class="line">            maps[a][b]=maps[b][a]=w;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Scenario #%d:\n%d\n\n"</span>,ans++,dijkstra());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=1797&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;题目链接&lt;/a&gt;&lt;br&gt;大意：&lt;br&gt;要从城市1到城市N运送货物，有M条道路，每条道路都有它的最大载重量，问从城市1到城市N运送最多的重量是多少。&lt;br&gt;其实题意很简单，就是找一条1–&amp;gt;N的路径，在不超过每条路径的最大载重量的情况下，使得运送的货物最多。一条路径上的最大载重量为这个路径上权值最小的边;&lt;br&gt;&lt;img src=&quot;/poj1797/更新.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/categories/ACM/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="POJ" scheme="https://lruihao.cn/tags/POJ/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>hexo博客自定义console log</title>
    <link href="https://lruihao.cn/console-log.html"/>
    <id>https://lruihao.cn/console-log.html</id>
    <published>2018-08-04T08:19:06.000Z</published>
    <updated>2018-08-11T14:06:29.926Z</updated>
    
    <content type="html"><![CDATA[<p>看到知乎，百度的页面F12检查后都会有一些有趣的招聘信息。于是乎我也想给我的博客加一个。<br>我主要用到的工具：</p><ul><li>console.log()</li><li>Notepad++</li><li><a href="http://picascii.com" rel="external nofollow noopener noreferrer" target="_blank">在线图片转文字工具</a></li></ul><a id="more"></a><h2 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h2><p>用js在<code>&lt;body&gt;&lt;/body&gt;</code>使用console.log()就行了，hexo的主题文件在<code>_layout.swig</code>里，所以我们打开该文件，在该位置，添加js就行了；<br><img src="/console-log/console.png" alt="console"></p><h2 id="图案"><a href="#图案" class="headerlink" title="图案"></a>图案</h2><p>我用的我自己的一张照片(电脑上照片就那么几张。。。)，然后用<a href="http://picascii.com" rel="external nofollow noopener noreferrer" target="_blank">在线图片转文字工具</a>转字符，<br>选择文件，设置大小，然后生成，<img src="/console-log/QQ截图1.png" alt=""><br><img src="/console-log/QQ图片2.png" alt="">生成后，复制TXT文件（下面那个框，上面的是HTML代码）<br><img src="/console-log/QQ截图3.png" alt=""><br>粘贴到Notepad++里面，然后按图操作；<br><img src="/console-log/QQ截图4.png" alt=""><br>Ctrl+H 替换<br><img src="/console-log/QQ截图5.png" alt=""><br><img src="/console-log/QQ截图6.png" alt=""><br>最后就变成一个字符串了。</p><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="/console-log/QQ截图7.png" alt=""><br><a href="https://lruihao.cn">线上demo</a>,按F12找到console</p><h2 id="我的txt"><a href="#我的txt" class="headerlink" title="我的txt"></a>我的txt</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\n`              @@#``@@@@@@@@@@@@@@@@@@##,`   \n`              @@#`;@@@@@@@@@@@@@@@@@@@&apos;:&apos;   \n`              @@#`@@@@@@@@@@@@@@@@@@@#+#;`  \n`              @@#`@@@@@@@@@@@@@@@@@@###@&apos;.  \n`              @@+.@@@@@@@@@@@@@@@@@@@@@##,  \n`              @@#,@@@@@@@@@@@@@@@@@@@@@@#,  \n`              #@#:@@@@@@@@@@@@@@@@@@@@@@@,  \n`              #@#&apos;@@@@@@@@@@@@@@@@@@@@@@@.  \n`              +@#;@@@@@@@@@@@@@@@@@@@@@@#   \n`          `;: ;@#&apos;@@@@@@@@@@@@@@@@@@+&apos;+@&apos;   \n`    `,,;&apos;;&apos;+&apos;;&apos;@@+:@@@@@@@@@@@@##@#&apos;,.:#;   \n,, ``    ``..,:;@@#&apos;@@@@@@@@#####@@@@#:`:.   \n`       `````:++@@@@@@@@@@@@@###@@@@#+,..    \n        ``````.#@@@@@@@@@@@@@@#@@@#++#&apos;``    \n`    ```.,,:,.`:@@@@@@@@@@@@@###@@@##&apos;.`     \n``..`````..,::;+@@@@@@@@@@@@#+`::+##&apos;`.      \n`      ````.```,@@@@@@@@@@@##;``.,&apos;;` `      \n``.;@@@@@@@@@@@@@@@@@@@@@@###;``..``````     \n#@@@@@@@@@@@@@@@@@@@@@@@@##@#;``,``,.``      \n@@@@@@@@@@@@@@@@@@@.`````..``.. +` `:`       \n@+&apos;&apos;++#####@@#`.@@@``````` ` `,```  ``       \n&apos;;;;;&apos;+##+&apos;+.`;+@@@,..```` `` :,.            \n;::,,:;+#++``,,#@@@&apos;..``````` ,`.``          \n;,,,,...&apos;#.,,..#@@@#,,.`````` .````          \n:,,,,....`,::;&apos;&apos;+#@#;,..`````````.``         \n:,,,.....&apos;##++&apos;&apos;&apos;;:+&apos;:,.`..,,...`            \n:,,,...#####+&apos;+#@@@&apos;.&apos;;+:.  ` ``             \n;,,.`&apos;####&apos;#,`.`+@@@+&apos;``` `.`                \n;,.`#@@@#+:&apos;+++##+@##@,,,,`                  \n&apos;,.#@@###&apos;&apos;&apos;&apos;;:,.```,+#.                     \n+,#@@@####;,,..```````````````         `.:,::\n+@@@@###+;,,..``````````````````          `.,\n#@@@##+&apos;,,,........``````````````            \n@@@@#+:,,,,`........``````````               \n@@@#+:,,,,.`````.....``````````           `` \n@@##&apos;:,......`````....```  `````          ```\n@@@#&apos;:,....,..``````..````    ```         ```\n@@@#&apos;,....,,,..```````````     ```         ..\n@@@#,.....,,,,.``  ````````   ``````         \n@@@+....,,,,,..`````````````   ``````````    \n@@@:....,,,,.LiRuihao````````  ```````````` \n#@@,....,,,,.Always Be Yourself !````````````\n,##,,...,::,.````````````..``````   `......``\n,&apos;#,,..,,:::.`````````........``````   `.,,..\n\n你好！\n欢迎进入什么都不会的李瑞豪的个人网站！\nhttps://lruihao.cn\nhttps://www.lruihao.cn\nhttps://lruihao.github.io\nhttps://liruihao.coding.me\n\n\n\n</span><br></pre></td></tr></table></figure><p>其他个人网站，个人博客也是可以的。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;看到知乎，百度的页面F12检查后都会有一些有趣的招聘信息。于是乎我也想给我的博客加一个。&lt;br&gt;我主要用到的工具：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;console.log()&lt;/li&gt;&lt;li&gt;Notepad++&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://picascii.com&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;在线图片转文字工具&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;
    
    </summary>
    
      <category term="hexo博客" scheme="https://lruihao.cn/categories/hexo%E5%8D%9A%E5%AE%A2/"/>
    
    
      <category term="hexo博客" scheme="https://lruihao.cn/tags/hexo%E5%8D%9A%E5%AE%A2/"/>
    
      <category term="前端" scheme="https://lruihao.cn/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Til the Cows Come Home-poj2387(dijkstra判断重边)</title>
    <link href="https://lruihao.cn/poj2387.html"/>
    <id>https://lruihao.cn/poj2387.html</id>
    <published>2018-08-03T13:40:33.000Z</published>
    <updated>2018-08-04T02:35:12.575Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://poj.org/problem?id=2387" rel="external nofollow noopener noreferrer" target="_blank">题目链接</a></p><p>题目大意：<br>说的是，一只奶牛位于N号节点，输入N个节点和T对双向的边，求出由N到1的最短的距离，其实就是问的单源最短路问题。</p><p>两个点可能有多条路，选择最短的。<br></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">99999999</span>;                    <span class="comment">//设为无穷大</span></span><br><span class="line"><span class="keyword">int</span> maps[<span class="number">1005</span>][<span class="number">1005</span>],v[<span class="number">1005</span>],d[<span class="number">1005</span>];  <span class="comment">//v表示是否已经过遍历 d表示从源到点当前最短路</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Dijkstra</span><span class="params">(<span class="keyword">int</span> s,<span class="keyword">int</span> t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i,j,k,mini;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">        d[i]=INF;                      <span class="comment">//除源点设为0距离外 其他先设为无穷大</span></span><br><span class="line">    d[s]=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)         <span class="comment">//n点循环n次 ,找出n个k,找n个点</span></span><br><span class="line">    &#123;</span><br><span class="line">        mini=INF;</span><br><span class="line">        k=<span class="number">-1</span>;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n;j++)              <span class="comment">//在所有未标记点中 选d值最小的点</span></span><br><span class="line">            <span class="keyword">if</span>(!v[j] &amp;&amp; d[j]&lt;mini)</span><br><span class="line">                mini=d[k=j];</span><br><span class="line"></span><br><span class="line">        v[k]=<span class="number">1</span>;                         <span class="comment">//标记节点</span></span><br><span class="line">        <span class="keyword">if</span>(k==t)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,d[t]);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">            <span class="keyword">if</span>(!v[j] &amp;&amp; (d[k]+maps[k][j])&lt;d[j])   <span class="comment">//表示从k出发的点，对于所有边，更新相连点</span></span><br><span class="line">                d[j]=d[k]+maps[k][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> T,i,j,x,y,D;</span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>,&amp;T,&amp;n)!=EOF)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">memset</span>(v,<span class="number">0</span>,<span class="keyword">sizeof</span>(v));            <span class="comment">//清除标记</span></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=n;i++)</span><br><span class="line">            <span class="keyword">for</span>(j=<span class="number">1</span>;j&lt;=n;j++)</span><br><span class="line">                maps[i][j]=INF;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=T;i++)&#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;x,&amp;y,&amp;D);</span><br><span class="line">            <span class="keyword">if</span>(maps[x][y]&gt;D)               <span class="comment">//可能有多条路，只记录最短的</span></span><br><span class="line">                maps[x][y]=D,maps[y][x]=D;</span><br><span class="line">        &#125;</span><br><span class="line">        Dijkstra(<span class="number">1</span>,n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;http://poj.org/problem?id=2387&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;题目链接&lt;/a&gt;&lt;/p&gt;&lt;p&gt;题目大意：&lt;br&gt;说的是，一只奶牛位于N号
      
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/categories/ACM/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>最短路入门</title>
    <link href="https://lruihao.cn/zuiduanlu.html"/>
    <id>https://lruihao.cn/zuiduanlu.html</id>
    <published>2018-08-03T08:27:16.000Z</published>
    <updated>2018-08-22T07:40:31.132Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Dijkstra算法"><a href="#Dijkstra算法" class="headerlink" title="Dijkstra算法"></a>Dijkstra算法</h1><h2 id="1-定义概览"><a href="#1-定义概览" class="headerlink" title="1.定义概览"></a>1.定义概览</h2><p>Dijkstra(迪杰斯特拉)算法是典型的单源最短路径算法，用于计算一个节点到其他所有节点的最短路径。主要特点是以起始点为中心向外层层扩展，直到扩展到终点为止。Dijkstra算法是很有代表性的最短路径算法，在很多专业课程中都作为基本内容有详细的介绍，如数据结构，图论，运筹学等等。注意该算法要求图中不存在负权边。</p><p>问题描述：在无向图 G=(V,E) 中，假设每条边 E[i] 的长度为 w[i]，找到由顶点 V0 到其余各点的最短路径。（单源最短路径）</p><h2 id="2-算法描述"><a href="#2-算法描述" class="headerlink" title="2.算法描述"></a>2.算法描述</h2><h3 id="1-算法思想："><a href="#1-算法思想：" class="headerlink" title="1)算法思想："></a>1)算法思想：</h3><p>设G=(V,E)是一个带权有向图，把图中顶点集合V分成两组，第一组为已求出最短路径的顶点集合（用S表示，初始时S中只有一个源点，以后每求得一条最短路径 , 就将加入到集合S中，直到全部顶点都加入到S中，算法就结束了），第二组为其余未确定最短路径的顶点集合（用U表示），按最短路径长度的递增次序依次把第二组的顶点加入S中。在加入的过程中，总保持从源点v到S中各顶点的最短路径长度不大于从源点v到U中任何顶点的最短路径长度。此外，每个顶点对应一个距离，S中的顶点的距离就是从v到此顶点的最短路径长度，U中的顶点的距离，是从v到此顶点只包括S中的顶点为中间顶点的当前最短路径长度。</p><h3 id="2-算法步骤："><a href="#2-算法步骤：" class="headerlink" title="2)算法步骤："></a>2)算法步骤：</h3><p>a.初始时，S只包含源点，即S＝{v}，v的距离为0。U包含除v外的其他顶点，即:U={其余顶点}，若v与U中顶点u有边，则&lt;u,v&gt;正常有权值，若u不是v的出边邻接点，则&lt;u,v&gt;权值为∞。</p><p>b.从U中选取一个距离v最小的顶点k，把k，加入S中（该选定的距离就是v到k的最短路径长度）。</p><p>c.以k为新考虑的中间点，修改U中各顶点的距离；若从源点v到顶点u的距离（经过顶点k）比原来距离（不经过顶点k）短，则修改顶点u的距离值，修改后的距离值的顶点k的距离加上边上的权。</p><p>d.重复步骤b和c直到所有顶点都包含在S中。</p><p>执行动画过程如下图<br><img src="https://i.loli.net/2018/08/22/5b7d134a26755.gif" alt=""></p><h1 id="spfa算法"><a href="#spfa算法" class="headerlink" title="spfa算法"></a>spfa算法</h1><p>spfa是一种求单源最短路的算法</p><p>算法中需要用到的主要变量</p><p>int n; //表示n个点，从1到n标号</p><p>int s,t; //s为源点，t为终点</p><p>int d[N]; //d[i]表示源点s到点i的最短路</p><p>int p[N]; //记录路径（或者说记录前驱）</p><p>queue<int>q; //一个队列，用STL实现，当然可有手打队列，无所谓</int></p><p>bool vis[N]; //vis[i]=1表示点i在队列中 vis[i]=0表示不在队列中</p><h1 id="几乎所有的最短路算法其步骤都可以分为两步"><a href="#几乎所有的最短路算法其步骤都可以分为两步" class="headerlink" title="几乎所有的最短路算法其步骤都可以分为两步"></a>几乎所有的最短路算法其步骤都可以分为两步</h1><p>1.初始化</p><p>2.松弛操作</p><h2 id="初始化："><a href="#初始化：" class="headerlink" title="初始化："></a>初始化：</h2><p>d数组全部赋值为INF（无穷大）；p数组全部赋值为s（即源点），或者赋值为-1，表示还没有知道前驱,然后d[s]=0; 表示源点不用求最短路径，或者说最短路就是0。将源点入队；<br>（另外记住在整个算法中有顶点入队了要记得标记vis数组，有顶点出队了记得消除那个标记）</p><h2 id="队列-松弛操作"><a href="#队列-松弛操作" class="headerlink" title="队列+松弛操作"></a>队列+松弛操作</h2><p>读取队头顶点u，并将队头顶点u出队（记得消除标记）；将与点u相连的所有点v进行松弛操作，如果能更新估计值（即令d[v]变小），那么就更新，另外，如果点v没有在队列中，那么要将点v入队（记得标记），如果已经在队列中了，那么就不用入队</p><p>以此循环，直到队空为止就完成了单源最短路的求解</p><h1 id="SPFA可以处理负权边"><a href="#SPFA可以处理负权边" class="headerlink" title="SPFA可以处理负权边"></a>SPFA可以处理负权边</h1><p>定理: 只要最短路径存在，上述SPFA算法必定能求出最小值。</p><p>证明：<br>　　每次将点放入队尾，都是经过松弛操作达到的。换言之，每次的优化将会有某个点v的最短路径估计值d[v]变小。所以算法的执行会使d越来越小。由于我们假定图中不存在负权回路，所以每个结点都有最短路径值。因此，算法不会无限执行下去，随着d值的逐渐变小，直到到达最短路径值时，算法结束，这时的最短路径估计值就是对应结点的最短路径值。（证毕）</p><p>期望的时间复杂度O(ke)， 其中k为所有顶点进队的平均次数，可以证明k一般小于等于2。</p><p>判断有无负环：<br>　　如果某个点进入队列的次数超过N次则存在负环（SPFA无法处理带负环的图）</p><p><a href="https://www.cnblogs.com/cyd308/p/4470762.html" rel="external nofollow noopener noreferrer" target="_blank">代码</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Dijkstra算法&quot;&gt;&lt;a href=&quot;#Dijkstra算法&quot; class=&quot;headerlink&quot; title=&quot;Dijkstra算法&quot;&gt;&lt;/a&gt;Dijkstra算法&lt;/h1&gt;&lt;h2 id=&quot;1-定义概览&quot;&gt;&lt;a href=&quot;#1-定义概览&quot; class=&quot;
      
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/categories/ACM/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
    
      <category term="ACM" scheme="https://lruihao.cn/tags/ACM/"/>
    
      <category term="最短路" scheme="https://lruihao.cn/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF/"/>
    
  </entry>
  
  <entry>
    <title>菜鸟，大牛和教主，三者的区别(转)</title>
    <link href="https://lruihao.cn/fucking4.html"/>
    <id>https://lruihao.cn/fucking4.html</id>
    <published>2018-08-03T03:39:57.000Z</published>
    <updated>2018-08-03T03:44:10.428Z</updated>
    
    <content type="html"><![CDATA[<p>对菜鸟来说题目有三种：会算法且能AC的，会算法但不能AC的，不会做的</p><p>对大牛来说题目有两种：会做的，不会做的</p><p>对教主来说题目有两种：能AC的，数据有错的</p><p>菜鸟提交WA了，找了N久找不出错时，在论坛大骂数据有错，但是没人理</p><p>大牛提交WA了，找了N久找不出错时，写暴力程序或者求别人的AC程序对拍</p><p>教主提交WA了，Judge马上修正数据</p><p>菜鸟面对一道难题，直接暴搜</p><p>大牛面对一道难题，算了算时间复杂度不对，或者证明出是NP难，果断放弃</p><p>教主面对一道难题，说，虽然我不会做，但AC还是没有问题的</p><p>菜鸟AC了一道难题，巴不得召告天下</p><p>大牛AC了一道难题，会写一篇解题报告，第一句话一定是：这题其实不难</p><p>教主AC了一道难题，好像什么都没发生过</p><p>菜鸟切OJ，只挑简单题做</p><p>大牛切OJ，成套成套地做</p><p>教主早就不切OJ了</p><p>菜鸟经常在论坛和QQ上求助</p><p>大牛经常在论坛和QQ上灌水</p><p>教主一般不露面</p><p>菜鸟喜欢说自己做了几十几百道题</p><p>大牛喜欢说自己把某个OJ做了百分之八九十</p><p>教主一般不说话</p><p>菜鸟队看到场上90%的队伍挂起了红球，开始找红球是哪道题</p><p>大牛队全场第一个挂起黄球，然后发现几乎同时有另外几支大牛队也挂起了黄球</p><p>教主队全场第一个挂起绿球，然后全场到最后也只有一个绿球</p><p>菜鸟喜欢搜集各种模板</p><p>大牛只用自己写的模板</p><p>教主不用模板，但他当场写的程序会被别人用作模板</p><p>菜鸟喜欢YY这种分析菜鸟、大牛和教主的区别的文章(没错就是我！- _ -)</p><p>大牛看完这样的文章会笑一笑，懒得回帖</p><p>教主直接无视</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;对菜鸟来说题目有三种：会算法且能AC的，会算法但不能AC的，不会做的&lt;/p&gt;&lt;p&gt;对大牛来说题目有两种：会做的，不会做的&lt;/p&gt;&lt;p&gt;对教主来说题目有两种：能AC的，数据有错的&lt;/p&gt;&lt;p&gt;菜鸟提交WA了，找了N久找不出错时，在论坛大骂数据有错，但是没人理&lt;/p&gt;&lt;p&gt;大牛
      
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/categories/ACM/sth-for-fu-king-acm/"/>
    
    
      <category term="生活随笔" scheme="https://lruihao.cn/tags/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/tags/sth-for-fu-king-acm/"/>
    
  </entry>
  
  <entry>
    <title>你搞图论有毛用啊！！(转)</title>
    <link href="https://lruihao.cn/fucking3.html"/>
    <id>https://lruihao.cn/fucking3.html</id>
    <published>2018-08-03T03:39:46.000Z</published>
    <updated>2018-08-03T03:40:44.309Z</updated>
    
    <content type="html"><![CDATA[<p>你搞图论有毛用啊！！</p><p>搞了你也不一定能看懂！</p><p>看懂了你也不一定能深刻理解！</p><p>理解了你也不一定完全敲出代码！！</p><p>敲出代码考试的时候也不一定能出图论的题！！</p><p>出了图论的题你也不一定能看出来！！</p><p>看出来你也不一定能按要求敲出来！</p><p>按要求敲出来你也不一定能跑出结果！！</p><p>跑出结果你也不一定能AC！！</p><p>能AC你也不一定能拿到奖！！</p><p>拿到奖你也不一定能进区域赛！</p><p>进了区域赛指定就是被虐！！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;你搞图论有毛用啊！！&lt;/p&gt;&lt;p&gt;搞了你也不一定能看懂！&lt;/p&gt;&lt;p&gt;看懂了你也不一定能深刻理解！&lt;/p&gt;&lt;p&gt;理解了你也不一定完全敲出代码！！&lt;/p&gt;&lt;p&gt;敲出代码考试的时候也不一定能出图论的题！！&lt;/p&gt;&lt;p&gt;出了图论的题你也不一定能看出来！！&lt;/p&gt;&lt;p&gt;看出来你也不
      
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/categories/ACM/sth-for-fu-king-acm/"/>
    
    
      <category term="生活随笔" scheme="https://lruihao.cn/tags/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/tags/sth-for-fu-king-acm/"/>
    
  </entry>
  
  <entry>
    <title>搞ACM最悲催的事。。。(转)</title>
    <link href="https://lruihao.cn/fucking2.html"/>
    <id>https://lruihao.cn/fucking2.html</id>
    <published>2018-08-03T03:38:25.000Z</published>
    <updated>2018-08-03T03:39:31.593Z</updated>
    
    <content type="html"><![CDATA[<p>搞ACM最悲催的事</p><p>莫过于</p><p>你在写poj1475</p><p>你看到这道题夏天的风分类为level2</p><p>而且你level1还没做完</p><p>你认为你可以做着试试</p><p>因为这只不过是个推箱子而已</p><p>于是就开始做了</p><p>写了一遍bfs</p><p>发现推箱子并没有你想象的那么简单</p><p>而且这道题的数据简直太变态</p><p>不仅变态还有问题</p><p>代码写好以后提交</p><p>果断的TLE</p><p>于是剪枝半天</p><p>还是TLE</p><p>于是你告诉自己要面对现实</p><p>只能换算法</p><p>于是你又想了半天</p><p>想出一个自己认为很好的算法</p><p>然后啪啦啪啦的敲了150行代码</p><p>马上就要敲完的时候</p><p>发现自己这个算法思路有问题</p><p>然后石化了</p><p>晚上睡觉满脑子在想这道题</p><p>第二天早上起床的时候</p><p>突然灵机一动</p><p>又想出一个新的算法！！</p><p>需要3个bfs就能解决</p><p>然后你就敲啊敲</p><p>敲了200行编译通过很高兴</p><p>然后开始跑数据</p><p>结果发现</p><p>以前1个bfs能跑出来的数据</p><p>你这3个bfs居然跑不出来了！！！</p><p>而且运行一会立刻就消失了！！！</p><p>连结果都没见着！！</p><p>有木有啊有木有！！！</p><p>这才是搞ACM最悲催的事啊！！！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;搞ACM最悲催的事&lt;/p&gt;&lt;p&gt;莫过于&lt;/p&gt;&lt;p&gt;你在写poj1475&lt;/p&gt;&lt;p&gt;你看到这道题夏天的风分类为level2&lt;/p&gt;&lt;p&gt;而且你level1还没做完&lt;/p&gt;&lt;p&gt;你认为你可以做着试试&lt;/p&gt;&lt;p&gt;因为这只不过是个推箱子而已&lt;/p&gt;&lt;p&gt;于是就开始做了&lt;/p&gt;
      
    
    </summary>
    
      <category term="ACM" scheme="https://lruihao.cn/categories/ACM/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/categories/ACM/sth-for-fu-king-acm/"/>
    
    
      <category term="生活随笔" scheme="https://lruihao.cn/tags/%E7%94%9F%E6%B4%BB%E9%9A%8F%E7%AC%94/"/>
    
      <category term="sth for fu&amp;king acm" scheme="https://lruihao.cn/tags/sth-for-fu-king-acm/"/>
    
  </entry>
  
</feed>
